<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Interactive Media Demo</title>
  <style>
    :root {
      --bg: #0f172a;         /* slate-900 */
      --panel: #111827;      /* gray-900 */
      --text: #e5e7eb;       /* gray-200 */
      --accent: #60a5fa;     /* blue-400 */
      --muted: #9ca3af;      /* gray-400 */
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background: linear-gradient(180deg, var(--bg), #0b1025 40%, #0a0f22);
      color: var(--text); min-height: 100svh; display: grid; place-items: center;
      padding: 2rem;
    }
    .card {
      width: min(720px, 100%); background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.07);
      border-radius: 1rem; padding: 1.5rem; box-shadow: 0 10px 30px rgba(0,0,0,.35); backdrop-filter: blur(6px);
    }
    h1 { margin: 0 0 .75rem; font-size: clamp(1.3rem, 2.5vw + .6rem, 2rem); }
    p  { margin: 0 0 1.25rem; color: var(--muted) }
    .row { display: flex; flex-wrap: wrap; gap: .75rem; }
    button {
      appearance: none; border: 1px solid rgba(255,255,255,0.16);
      background: linear-gradient(180deg, #1f2937, #111827); color: var(--text);
      padding: .65rem 1rem; border-radius: .75rem; cursor: pointer; font-weight: 600;
      transition: transform .06s ease, border-color .2s ease, box-shadow .2s ease;
    }
    button:hover { border-color: rgba(96,165,250,.6); box-shadow: 0 4px 18px rgba(96,165,250,.2); }
    button:active { transform: translateY(1px) scale(.995); }
    .video-wrap {
      margin-top: 1rem; display: none; border: 1px solid rgba(255,255,255,0.1);
      border-radius: .75rem; overflow: hidden; background: #000;
    }
    .video-wrap.active { display: block; }
    video { width: 100%; height: auto; display: block; background: #000; }

    /* Modal (uses <dialog>) */
    dialog {
      border: none; padding: 0; border-radius: .75rem; overflow: hidden; background: var(--panel);
      color: var(--text); box-shadow: 0 25px 80px rgba(0,0,0,.6), 0 0 0 1px rgba(255,255,255,.08);
      max-width: min(420px, 95vw);
    }
    dialog::backdrop { background: rgba(0,0,0,.55); }
    .modal-header { display: flex; align-items: center; justify-content: space-between; padding: .75rem 1rem; border-bottom: 1px solid rgba(255,255,255,.08); }
    .modal-body { padding: .75rem; background: #0b1226; }
    .modal-body img { max-width: 100%; height: auto; display: block; border-radius: .5rem; }
    .icon-btn {
      background: transparent; border: 1px solid rgba(255,255,255,.18); width: 36px; height: 36px; border-radius: .6rem;
      display: grid; place-items: center; font-size: 0; line-height: 0;
    }
    .sr-only {
      position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
    }
    .hint { margin-top: .65rem; font-size: .875rem; color: var(--muted); }
    a.inline { color: var(--accent); }
  </style>
</head>
<body>
  <main class="card">
    <h1>Interactive Media</h1>
    <p>Use the buttons to play a video in-page or open a small window that displays an image.</p>

    <div class="row" role="group" aria-label="Media actions">
      <button id="toggleVideo" type="button" aria-expanded="false" aria-controls="videoRegion">
        ‚ñ∂Ô∏è Play video
      </button>

      <button id="openImage" type="button">
        üñºÔ∏è Show image
      </button>
    </div>

    <div id="videoRegion" class="video-wrap" aria-live="polite">
      <!-- Place video.mp4 next to this HTML file -->
      <video id="videoEl" controls preload="metadata" playsinline>
        <source src="video.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>

    <p class="hint">
      Files expected next to this page: <code>video.mp4</code> and <code>image.png</code>.
      Can‚Äôt see them? <a class="inline" href="image.png" target="_blank" rel="noopener">Open image directly</a>.
    </p>
  </main>

  <!-- Image Modal -->
  <dialog id="imgModal" aria-labelledby="imgTitle">
    <div class="modal-header">
      <strong id="imgTitle">Image preview</strong>
      <button class="icon-btn" id="closeModal" type="button" aria-label="Close image">
        ‚úï
      </button>
    </div>
    <div class="modal-body">
      <!-- Place image.png next to this HTML file -->
      <img src="image.png" alt="Preview of image.png" loading="lazy">
    </div>
  </dialog>

  <script>
    // Inline video toggle
    const toggleBtn = document.getElementById('toggleVideo');
    const videoRegion = document.getElementById('videoRegion');
    const videoEl = document.getElementById('videoEl');

    function toggleVideo() {
      const isActive = videoRegion.classList.toggle('active');
      toggleBtn.setAttribute('aria-expanded', String(isActive));
      toggleBtn.textContent = isActive ? '‚èπÔ∏è Hide video' : '‚ñ∂Ô∏è Play video';
      if (isActive) {
        // Start playback when shown (autoplay policies may block without user gesture‚Äîthis is tied to a click)
        videoEl.play().catch(() => {/* ignored if blocked */});
        // Scroll into view on small screens
        videoRegion.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      } else {
        videoEl.pause();
      }
    }
    toggleBtn.addEventListener('click', toggleVideo);

    // Image modal using <dialog>
    const modal = document.getElementById('imgModal');
    const openImage = document.getElementById('openImage');
    const closeModal = document.getElementById('closeModal');

    openImage.addEventListener('click', () => {
      if (typeof modal.showModal === 'function') {
        modal.showModal();
        // focus close button for accessibility
        closeModal.focus();
      } else {
        // Fallback: open image in a new tab if dialog not supported
        window.open('image.png', '_blank', 'noopener');
      }
    });

    function hideModal() { if (modal.open) modal.close(); }
    closeModal.addEventListener('click', hideModal);
    modal.addEventListener('cancel', (e) => { e.preventDefault(); hideModal(); }); // Esc key
    modal.addEventListener('click', (e) => {
      // click outside the panel closes modal
      const rect = modal.getBoundingClientRect();
      const inDialog = (
        e.clientX >= rect.left && e.clientX <= rect.right &&
        e.clientY >= rect.top && e.clientY <= rect.bottom
      );
      if (!inDialog) hideModal();
    });
  </script>
</body>
</html>
